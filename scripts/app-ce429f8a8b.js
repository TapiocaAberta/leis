!function(){"use strict";angular.module("lawsApp",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ui.router","ui.bootstrap","mgcrea.ngStrap","angular-input-stars","nvd3"]).directive("loading",["$http",function(a){return{restrict:"A",link:function(i,s,o){i.isLoading=function(){return a.pendingRequests.length>0},i.$watch(i.isLoading,function(a){a?s.removeAttr("style"):s.attr("style","display:none")})}}}])}(),function(){"use strict";angular.module("lawsApp").config(["$stateProvider",function(a){a.state("politician",{url:"/politicos",templateUrl:"app/politician/list/politician.html",controller:"PoliticianCtrl"})}])}(),function(){"use strict";angular.module("lawsApp").controller("PoliticianCtrl",["$scope","$http","URI",function(a,i,s){var o=9,t=0;i.get(s+"autores?total="+o+"&pg="+t).success(function(i){a.politicians=i,a.politicianOrder="nome"}).error(function(a){console.log(a)}),a.next=function(){t+=1,i.get(s+"autores?total="+o+"&pg="+t).success(function(i){a.politicians=i,a.politicianOrder="name"}).error(function(a){console.log(a)})},a.previous=function(){0!==t&&(t-=1,i.get(s+"autores?total="+o+"&pg="+t).success(function(i){a.politicians=i,a.politicianOrder="name"}).error(function(a){console.log(a)}))}}])}(),function(){"use strict";angular.module("lawsApp").config(["$stateProvider",function(a){a.state("politicanDetails",{url:"/politicos/:idItem",templateUrl:"app/politician/details/politicanDetails.html",controller:"PoliticanDetailsCtrl"})}])}(),function(){"use strict";angular.module("lawsApp").controller("PoliticanDetailsCtrl",["$scope","$http","$stateParams","URI",function(a,i,s,o){function t(a,i){angular.forEach(a,function(a){i.push({key:a.label,y:a.valor})})}if(s.idItem){a.options={chart:{type:"pieChart",height:500,x:function(a){return a.key},y:function(a){return a.y},showLabels:!0,duration:500,labelThreshold:.01,labelSunbeamLayout:!0,legend:{margin:{top:5,right:35,bottom:5,left:0}}}};var l=6;a.PG=0,a.lawTypeData=[],a.lawSituationData=[],a.lawClassData=[],i.get(o+"autores/"+s.idItem).success(function(i){a.politicians=i}).error(function(a){console.log(a)}),i.get(o+"autores/"+s.idItem+"/grafico").success(function(i){t(i.leisChart.tipo,a.lawTypeData),t(i.leisChart.situacao,a.lawSituationData),t(i.leisChart.classe,a.lawClassData)}).error(function(a){console.log(a)}),i.get(o+"autores/"+s.idItem+"/leis?total="+l+"&pg="+a.PG).success(function(i){a.laws=i}).error(function(a){console.log(a)}),a.next=function(){a.PG=a.PG+1,i.get(o+"autores/"+s.idItem+"/leis?total="+l+"&pg="+a.PG).success(function(i){a.laws=i}).error(function(a){console.log(a)})},a.previous=function(){0!==a.PG&&(a.PG=a.PG-1,i.get(o+"autores/"+s.idItem+"/leis?total="+l+"&pg="+a.PG).success(function(i){a.laws=i}).error(function(a){console.log(a)}))}}}])}(),function(){"use strict";angular.module("lawsApp").config(["$stateProvider",function(a){a.state("laws",{url:"/leis",templateUrl:"app/laws/list/laws.html",controller:"LawsCtrl"}).state("laws-alderman",{url:"/politicos/:name/leis",templateUrl:"app/laws/list/laws.html",controller:"LawsCtrl"})}])}(),function(){"use strict";angular.module("lawsApp").controller("LawsCtrl",["$scope","$http","$stateParams","URI",function(a,i,s,o){function t(){i.get(o+"leis/anos").success(function(i){a.anos=i}).error(function(a){console.log(a)}),i.get(o+"tipo").success(function(i){a.tipos=i}).error(function(a){console.log(a)}),i.get(o+"situacao-simplificada").success(function(i){a.situacoes=i}).error(function(a){console.log(a)}),i.get(o+"classe").success(function(i){a.classes=i}).error(function(a){console.log(a)})}function l(){var s=o+"leis/filtra?total=6&pg="+a.PG;s="undefined"!=typeof a.filtro.situacao.id&&a.filtro.situacao.id?s+"&idSituacao="+a.filtro.situacao.id:s,s="undefined"!=typeof a.filtro.classe.id&&a.filtro.classe.id?s+"&idClasse="+a.filtro.classe.id:s,s="undefined"!=typeof a.filtro.tipo.id&&a.filtro.tipo.id?s+"&idTipo="+a.filtro.tipo.id:s,s="undefined"!=typeof a.filtro.ano&&a.filtro.ano?s+"&ano="+a.filtro.ano.ano:s,i.get(s).success(function(i){a.laws=i,a.lawOrder="id"}).error(function(a){console.log(a)})}a.PG=0,a.direction="desc",a.filtro={situacao:{},classe:{},tipo:{},ano:null},t(),l(),a.filtrar=function(){l()},a.limpar=function(){a.filtro={situacao:{},classe:{},tipo:{},ano:null},l()},a.next=function(){a.PG+=1,l()},a.previous=function(){0!==a.PG&&(a.PG-=1,l())}}])}(),function(){"use strict";angular.module("lawsApp").config(["$stateProvider",function(a){a.state("lawDetails",{url:"/leis/:id",templateUrl:"app/laws/details/lawDetails.html",controller:"LawDetailsCtrl"})}])}(),function(){"use strict";angular.module("lawsApp").controller("LawDetailsCtrl",["$scope","$http","$stateParams","URI",function(a,i,s,o){a.alert={show:!1,type:"",message:""},s.id&&i.get(o+"leis/"+s.id).success(function(i){a.law=i}).error(function(a){console.log(a)}),a.clickRating=function(i){Number.isInteger(i)&&i>0&&6>i&&a.vote(i)},a.vote=function(t){i.put(o+"leis/"+s.id+"/vota?rating="+t).success(function(i){a.law=i,a.alert={show:!0,type:"success",message:"Voto computado!"}}).error(function(i){console.log(i),a.alert={show:!0,type:"danger",message:i.mensagem}})},a.close=function(){a.alert={show:!1,type:"",message:""},a.law.rating=0}}])}(),function(){"use strict";function a(){function a(){}var i={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:a,controllerAs:"vm",bindToController:!0};return i}angular.module("lawsApp").directive("acmeNavbar",a)}(),function(){"use strict";angular.module("lawsApp").config(["$stateProvider",function(a){a.state("ranking",{url:"/ranking",templateUrl:"app/ranking/ranking.html",controller:"RankingCtrl"})}])}(),function(){"use strict";angular.module("lawsApp").controller("RankingCtrl",["$scope","$http","$stateParams","URI",function(a,i,s,o){function t(a,i){angular.forEach(a,function(a){i.push({key:a.label,y:a.valor})})}a.lawTypeData=[],a.lawSituationData=[],a.lawClassData=[],a.options={chart:{type:"pieChart",height:500,x:function(a){return a.key},y:function(a){return a.y},showLabels:!0,duration:500,labelThreshold:.01,labelSunbeamLayout:!0,legend:{margin:{top:5,right:35,bottom:5,left:0}}}},i.get(o+"leis/grafico").success(function(i){a.dataChart=i,t(i.tipo,a.lawTypeData),t(i.situacao,a.lawSituationData),t(i.classe,a.lawClassData)}).error(function(a){console.log(a)})}])}(),function(){"use strict";function a(){}angular.module("lawsApp").controller("MainController",a)}(),function(){"use strict";function a(a){a.debug("runBlock end")}a.$inject=["$log"],angular.module("lawsApp").run(a)}(),function(){"use strict";function a(a,i){a.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),i.otherwise("/")}a.$inject=["$stateProvider","$urlRouterProvider"],angular.module("lawsApp").config(a)}(),function(){"use strict";angular.module("lawsApp").constant("moment",moment).constant("URI","http://localhost:8080/api/v2/")}(),function(){"use strict";function a(a){a.debugEnabled(!0)}a.$inject=["$logProvider"],angular.module("lawsApp").config(a)}(),angular.module("lawsApp").run(["$templateCache",function(a){a.put("app/main/main.html",'<div class="container"><div><acme-navbar></acme-navbar></div></div><header><div class="container"><div class="row"><div class="col-lg-12"><img class="img-responsive" src="assets/images/profile.png" alt=""><div class="intro-text"><span class="name">Monitor Legislativo</span><hr class="star-light"><span class="skills">Acesse todas as leis municipais de São José dos Campos de forma descomplicada.</span></div></div></div></div></header><section id="portfolio"><div class="container"><div class="row"><div class="col-lg-12 text-center"><h2>Participe!</h2><hr class="star-primary"></div></div><div class="row"><div class="col-sm-4 portfolio-item"><a href="#portfolioModal1" class="portfolio-link" data-toggle="modal"><div class="caption"><div class="caption-content"><i class="fa fa-search-plus fa-3x"></i><h3>Analise o Ranking do legislativo</h3></div></div><img src="assets/images/01.jpg" class="img-responsive" alt=""></a></div><div class="col-sm-4 portfolio-item"><a href="#portfolioModal2" class="portfolio-link" data-toggle="modal"><div class="caption"><div class="caption-content"><i class="fa fa-search-plus fa-3x"></i><h3>Analise a listagem das leis</h3></div></div><img src="assets/images/02.jpg" class="img-responsive" alt=""></a></div><div class="col-sm-4 portfolio-item"><a href="#portfolioModal3" class="portfolio-link" data-toggle="modal"><div class="caption"><div class="caption-content"><i class="fa fa-search-plus fa-3x"></i><h3>Analise o perfil dos Políticos</h3></div></div><img src="assets/images/03.jpg" class="img-responsive" alt=""></a></div></div></div></section><section class="success" id="about"><div class="container"><div class="row"><div class="col-lg-12 text-center"><h2>Sobre</h2><hr class="star-light"></div></div><div class="row"><div class="col-lg-4 col-lg-offset-2"><p>Quantos projetos de lei foram criados no período de 2012 a 2016 pelo vereador X? Quantos desses projetos foram nomes de rua ou tiveram uma relevância significativa na melhoria da comunidade? Qual foi o vereador que mais criou projetos de leis relevantes? O objetivo do monitor legislativo é tentar responder algumas dessas perguntas e fazer com que as pessoas sejam mais engajadas na vida política de São José dos Campos.</p></div><div class="col-lg-4"><p>Sabemos que esses dados não são os únicos a se levar em consideração quanto a análise da qualidade do legislativo, mas iniciativas como essa já são um grande passo em direção ao esclarecimento das nossas dúvidas! Nossos sistemas são de código-aberto o que permite que você possa contribuir, estudar, modificar, copiar sem nenhuma restrição, além dos dados, que são fornecidos diretamente através de uma <a href="https://github.com/sjcdigital/temis-api" target="_blank">API</a></p></div><div class="col-lg-8 col-lg-offset-2 text-center"><a href="https://github.com/sjcdigital/leis" target="_blank" class="btn btn-lg btn-outline"><i class="fa fa-download"></i> Acesse nosso Github</a></div></div></div></section>'),a.put("app/ranking/ranking.html",'<div class="col-md-12"><br><div class="container"><header ng-include="\'app/components/navbar/navbar.html\'"></header><div class="row"><div class="col-md-12"><div class="panel panel-default"><div class="panel-heading">Por Tipo</div><div class="panel-body"><div class="col-md-8"><nvd3 options="options" data="lawTypeData"></nvd3></div><div class="col-md-4"><table class="table table-hover"><caption>Dados Tipo</caption><thead><tr><th>Nome</th><th>Valor</th></tr></thead><tbody><tr ng-repeat="data in dataChart.tipo"><td>{{data.label}}</td><td>{{data.valor}}</td></tr></tbody></table></div></div></div></div></div><br><div class="row"><div class="col-md-12"><div class="panel panel-default"><div class="panel-heading">Por Situação</div><div class="panel-body"><div class="col-md-8"><nvd3 options="options" data="lawSituationData"></nvd3></div><div class="col-md-4"><table class="table table-hover"><caption>Dados Tipo</caption><thead><tr><th>Nome</th><th>Valor</th></tr></thead><tbody><tr ng-repeat="data in dataChart.situacao"><td>{{data.label}}</td><td>{{data.valor}}</td></tr></tbody></table></div></div></div></div></div><br><div class="row"><div class="col-md-12"><div class="panel panel-default"><div class="panel-heading">Por Classificação</div><div class="panel-body"><div class="col-md-8"><nvd3 options="options" data="lawClassData"></nvd3></div><div class="col-md-4"><table class="table table-hover"><caption>Dados Tipo</caption><thead><tr><th>Nome</th><th>Valor</th></tr></thead><tbody><tr ng-repeat="data in dataChart.classe"><td>{{data.label}}</td><td>{{data.valor}}</td></tr></tbody></table></div></div></div></div></div></div></div>'),a.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-default navbar-fixed-top navbar-custom" bs-navbar=""><div class="container-fluid"><div class="navbar-header page-scroll"><button type="button" class="navbar-toggle" ng-init="navCollapsed = true" ng-click="navCollapsed = !navCollapsed"><span class="glyphicon glyphicon-menu-hamburger"></span></button> <a class="navbar-brand" href="#/"><span class="glyphicon glyphicon-home"></span> Monitor Legislativo <span data-loading=""><i class="fa fa-refresh fa-spin"></i></span></a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" ng-class="!navCollapsed && \'in\'"><ul class="nav navbar-nav navbar-right"><li data-match-route="/ranking"><a ng-href="#/ranking">Ranking</a></li><li data-match-route="/leis"><a href="#/leis">Leis</a></li><li data-match-route="/politicos"><a href="#/politicos">Políticos</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"></ul></div></div></nav>'),a.put("app/laws/details/lawDetails.html",'<br><div class="col-md-12"><div class="container" ng-model="laws"><header ng-include="\'app/components/navbar/navbar.html\'"></header><br><div class="row"><div uib-alert="" ng-class="\'alert-\' + (alert.type || \'warning\')" ng-show="alert.show" close="close()">{{alert.message}}</div></div><div class="row"><span class="label label-info">{{::law.tipo.nome}}</span> <span class="label label-success">{{::law.situacaoSimplificada.nome}}</span> <span class="label label-warning">{{law.classe.nome || \'Sem Classificação\'}}</span></div><br><div class="row"><div class="progress"><div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="{{law.relevancia}}" aria-valuemin="0" aria-valuemax="100" style="width:{{law.relevancia}}%">{{law.relevancia}}% é a relevância desta lei</div></div></div><br><div class="row"><h5>Número do Processo {{ ::law.numeroProcesso }}</h5><h5>Número da Propositura {{ ::law.numeroPropositura }}</h5><h5>Autor <a href="#/politicos/{{::law.autor.id}}">{{ ::law.autor.nome }}</a> - {{::law.autor.partidoPolitico.nome}} ({{::law.autor.partidoPolitico.sigla}})</h5></div><br><div class="row"><h3>{{law.ementa}} - Realize o <a href="{{::law.pdfLei}}" target="_blank">download deste documento</a>.</h3></div><br><div class="row"><div class="panel panel-default"><div class="panel-heading"><h3>Vote na Relevância desta lei</h3></div><div class="panel-body"><input-stars max="5" ng-model="law.rating" on-star-click="clickRating(law.rating)"></input-stars>Quantidade de votos: {{law.quantidadeDeVotos || 0}}</div></div></div><br></div></div>'),a.put("app/laws/list/laws.html",'<div class="col-md-12"><div class="container"><header ng-include="\'app/components/navbar/navbar.html\'"></header><div><h2>Listagem de leis</h2></div><div class="well"><form class="form-horizontal" role="form" name="filtroForm" ng-submit="filtrar()"><div class="controls form-inline"><div class="form-group"><label for="_tipo" class="col-sm-2 control-label">Tipo</label><div class="col-sm-4"><select id="_tipo" class="form-control input-sm" ng-model="filtro.tipo" ng-options="tipo.nome for tipo in tipos track by tipo.id"></select></div></div><div class="form-group"><label for="_situacao" class="col-sm-4 control-label">Situação</label><div class="col-sm-4"><select id="_situacao" class="form-control input-sm" ng-model="filtro.situacao" ng-options="situacao.nome for situacao in situacoes track by situacao.id"></select></div></div><div class="form-group"><label for="_clase" class="col-sm-4 control-label">Classificação</label><div class="col-sm-4"><select id="_tipo" class="form-control input-sm" ng-model="filtro.classe" ng-options="classe.nome for classe in classes track by classe.id"></select></div></div><div class="form-group"><label for="_ano" class="col-sm-4 control-label">Ano</label><div class="col-sm-4"><select id="_ano" class="form-control input-sm" ng-model="filtro.ano" ng-options="a.ano for a in anos.anos"></select></div></div></div><br><div class="controls form-inline"><div class="form-group"><div class="col-sm-offset-2 col-sm-5"><button type="submit" class="btn btn-success">Buscar</button></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-5"><button ng-click="limpar()" class="btn btn-warning">Limpar</button></div></div></div></form></div><div class="row"><div class="col-12 col-sm-6 col-lg-6" ng-repeat="item in laws | filter: query | orderBy: lawOrder:direction"><a class="thumbnail" href="#/leis/{{::item.id}}" tooltip-placement="top" uib-tooltip="{{::item.numeroProcesso}}" tooltip-trigger="\'mouseenter\'"><div class="caption"><span class="label label-info">{{::item.tipo.nome}}</span> <span class="label label-success">{{::item.situacaoSimplificada.nome}}</span> <span class="label label-warning">{{::item.classe.nome || \'Sem Classificação\'}}</span><h3 style="text-transform:capitalize;">{{ ::item.numeroProcesso }}</h3><h5 class="text-justify">{{ ::item.ementa | limitTo: 97}} ...</h5><h5>{{::item.autor.nome}}</h5></div></a></div></div><div class="row"><ul class="pager"><li><a ng-click="previous(_links.prev.href)">Previous</a></li><li><a ng-click="next(_links.next.href)">Next</a></li></ul></div></div></div>'),a.put("app/politician/details/politicanDetails.html",'<header ng-include="\'app/components/navbar/navbar.html\'"></header><br><div class="container backgroundBlue" ng-model="politicians"><div class="row profile"><div class="col-md-3"><div class="profile-sidebar"><div class="profile-userpic"><img ng-src="{{politicians.foto}}" alt="Photo of {{politicians.nome}}" class="img-responsive"></div><div class="profile-usertitle"><div class="profile-usertitle-name">{{politicians.nome}}</div><p><small>{{::politicians.legislatura}}</small></p><div class="profile-usertitle-job text-justifty">{{politicians.info}}</div><div class="profile-usertitle-job">{{politicians.partidoPolitico.nome}} - {{politicians.partidoPolitico.sigla}}</div><div class="profile-usertitle-job">Quantidade de projetos propostos: {{politicians.quantidadeDeLeis}}</div></div><div class="profile-userbuttons"><button type="button" class="btn btn-success">Seguir</button> <button type="button" class="btn btn-danger btn-sm" disabled="">Mensagem</button></div></div></div><div class="col-md-9"><div class="profile-content"><uib-accordion close-others="oneAtATime"><div uib-accordion-group="" class="panel-default" heading="Gráficos" is-open="false" is-disabled="false"><div class="row"><div class="col-md-12"><div class="panel panel-default"><div class="panel-heading">Por Tipo</div><div class="panel-body"><nvd3 options="options" data="lawTypeData"></nvd3></div></div></div></div><br><div class="row"><div class="col-md-12"><div class="panel panel-default"><div class="panel-heading">Por Situação</div><div class="panel-body"><nvd3 options="options" data="lawSituationData"></nvd3></div></div></div></div><br><div class="row"><div class="col-md-12"><div class="panel panel-default"><div class="panel-heading">Por Classificação</div><div class="panel-body"><nvd3 options="options" data="lawClassData"></nvd3></div></div></div></div></div><div uib-accordion-group="" class="panel-default" heading="Projetos Propostos" is-open="false" is-disabled="false"><div id="timeline"><div class="col-12 col-sm-6 col-lg-6" ng-repeat="item in laws | filter: query | orderBy: lawOrder:direction"><a class="thumbnail" href="#/leis/{{::item.id}}" tooltip-placement="top" uib-tooltip="{{::item.numeroProcesso}}" tooltip-trigger="\'mouseenter\'"><div class="caption"><span class="label label-info">{{::item.tipo.nome}}</span> <span class="label label-success">{{::item.situacaoSimplificada.nome}}</span> <span class="label label-warning">{{::item.classe.nome || \'Sem Classificação\'}}</span><h3 style="text-transform:capitalize;">{{ ::item.numeroProcesso }}</h3><h6 class="text-justify">{{ ::item.ementa | limitTo: 97}} ...</h6></div></a></div></div><div class="row"><ul class="pager"><li><a ng-click="previous()">Previous</a></li><li><a ng-click="next()">Next</a></li></ul></div></div></uib-accordion></div></div></div></div>'),a.put("app/politician/list/politician.html",'<div class="container"><header ng-include="\'app/components/navbar/navbar.html\'"></header><div class="row"><h2>Vereadores de São José dos Campos</h2></div><br><div class="row"><div class="[ col-sm-6 col-md-4 ]" ng-repeat="item in politicians | filter: query | orderBy: politicianOrder:direction"><div class="[ info-card ]"><img style="width: 100%" alt="Photo of {{ ::item.nome }}" ng-src="{{ ::item.foto }}"><div class="[ info-card-details ] animate"><div class="[ info-card-header ]"><h1>{{::item.nome}}</h1><h3>{{::item.partidoPolitico.nome}}</h3></div><div class="[ info-card-detail ]"><p class="text-justify">{{::item.info}}</p><p class="text-left">{{::item.legislatura}}</p><p class="text-left">{{::item.telefone}}</p><p class="text-left">{{::item.quantidadeDeLeis}} Leis Criadas</p><p class="text-left">{{::item.email}}</p><hr><p class="text-center"><a href="#/politicos/{{::item.id}}">Ver Perfil</a></p></div></div></div></div></div><div class="row"><ul class="pager"><li><a ng-click="previous()">Previous</a></li><li><a ng-click="next()">Next</a></li></ul></div></div>')}]);